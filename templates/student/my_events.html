{% extends "base.html" %}
{% block title %}My Events - Eventify{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">My Events</h2>

    <!-- Upcoming Events -->
    <h4>Upcoming Events</h4>
    {% if upcoming_events %}
        <div class="row">
            {% for event in upcoming_events %}
            <div class="col-md-6 mb-4">
                <div class="card event-item">
                    <div class="card-body">
                        <h5 class="card-title">
                            <a href="{{ url_for('student.event_detail', event_id=event.id) }}">{{ event.title }}</a>
                        </h5>
                        <p class="mb-1"><i class="fas fa-calendar-alt me-2"></i>{{ event.start_date.strftime('%B %d, %Y') }}</p>
                        <p class="mb-1"><i class="fas fa-clock me-2"></i>{{ event.start_time.strftime('%I:%M %p') }}</p>
                        <p class="mb-1"><i class="fas fa-map-marker-alt me-2"></i>{{ event.location }}</p>
                        <p class="mb-1"><i class="fas fa-tag me-2"></i>{{ event.category }}</p>
                        <p class="mt-2">{{ event.description[:100]|safe }}{% if event.description|length > 100 %}...{% endif %}</p>
                        <a href="{{ url_for('student.event_detail', event_id=event.id) }}" class="btn btn-outline-info btn-sm mt-2">
                            <i class="fas fa-eye"></i> View
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info text-center mb-4">
            You have no upcoming events.
        </div>
    {% endif %}

    <!-- Past Events -->
    <h4 class="mt-5">Past Events</h4>
    {% if past_events %}
        <div class="row">
            {% for event in past_events %}
            <div class="col-md-6 mb-4">
                <div class="card event-item">
                    <div class="card-body">
                        <h5 class="card-title">
                            <a href="{{ url_for('student.event_detail', event_id=event.id) }}">{{ event.title }}</a>
                        </h5>
                        <p class="mb-1"><i class="fas fa-calendar-alt me-2"></i>{{ event.start_date.strftime('%B %d, %Y') }}</p>
                        <p class="mb-1"><i class="fas fa-clock me-2"></i>{{ event.start_time.strftime('%I:%M %p') }}</p>
                        <p class="mb-1"><i class="fas fa-map-marker-alt me-2"></i>{{ event.location }}</p>
                        <p class="mb-1"><i class="fas fa-tag me-2"></i>{{ event.category }}</p>
                        <p class="mt-2">{{ event.description[:100] }}{% if event.description|length > 100 %}...{% endif %}</p>
                        <a href="{{ url_for('student.event_detail', event_id=event.id) }}" class="btn btn-outline-info btn-sm mt-2">
                            <i class="fas fa-eye"></i> View
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info text-center">
            You have not attended any past events yet.
        </div>
    {% endif %}
</div>
{% endblock %}